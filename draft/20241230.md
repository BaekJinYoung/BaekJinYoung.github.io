```bash
$ laravel new EmergencyMedicalService

   _                               _
  | |                             | |
  | |     __ _ _ __ __ ___   _____| |
  | |    / _` | '__/ _` \ \ / / _ \ |
  | |___| (_| | | | (_| |\ V /  __/ |
  |______\__,_|_|  \__,_| \_/ \___|_|


 Would you like to install a starter kit? [No starter kit]:
  [none     ] No starter kit
  [breeze   ] Laravel Breeze
  [jetstream] Laravel Jetstream
 > jetstream


 Which Jetstream stack would you like to install? [Livewire]:
  [livewire] Livewire
  [inertia ] Vue with Inertia
 > livewire


 Would you like any optional features? [None]:
  [none        ] None
  [api         ] API support
  [dark        ] Dark mode
  [verification] Email verification
  [teams       ] Team support
 > none


 Which testing framework do you prefer? [Pest]:
  [0] Pest
  [1] PHPUnit
 > 1


 Would you like to initialize a Git repository? (yes/no) [no]:
 > n

    Creating a "laravel/laravel" project at "./EmergencyMedicalService"
    Installing laravel/laravel (v11.5.0)
INFO: Could not find files for the given pattern(s).
  - Installing laravel/laravel (v11.5.0): Extracting archive
    Created project in C:\회사/EmergencyMedicalService
Loading composer repositories with package information
    Updating dependencies
Lock file operations: 110 installs, 0 updates, 0 removals
  - Locking brick/math (0.12.1)
  - Locking carbonphp/carbon-doctrine-types (3.2.0)
  - Locking dflydev/dot-access-data (v3.0.3)
  - Locking doctrine/inflector (2.0.10)
  - Locking doctrine/lexer (3.0.1)
  - Locking dragonmantank/cron-expression (v3.4.0)
  - Locking egulias/email-validator (4.0.3)
  - Locking fakerphp/faker (v1.24.1)
  - Locking filp/whoops (2.16.0)
  - Locking fruitcake/php-cors (v1.3.0)
  - Locking graham-campbell/result-type (v1.1.3)
  - Locking guzzlehttp/guzzle (7.9.2)
  - Locking guzzlehttp/promises (2.0.4)
  - Locking guzzlehttp/psr7 (2.7.0)
  - Locking guzzlehttp/uri-template (v1.0.3)
  - Locking hamcrest/hamcrest-php (v2.0.1)
  - Locking laravel/framework (v11.36.1)
  - Locking laravel/pail (v1.2.1)
  - Locking laravel/pint (v1.18.3)
  - Locking laravel/prompts (v0.3.2)
  - Locking laravel/sail (v1.39.1)
  - Locking laravel/serializable-closure (v2.0.1)
  - Locking laravel/tinker (v2.10.0)
  - Locking league/commonmark (2.6.1)
  - Locking league/config (v1.2.0)
  - Locking league/flysystem (3.29.1)
  - Locking league/flysystem-local (3.29.0)
  - Locking league/mime-type-detection (1.16.0)
  - Locking league/uri (7.5.1)
  - Locking league/uri-interfaces (7.5.0)
  - Locking mockery/mockery (1.6.12)
  - Locking monolog/monolog (3.8.1)
  - Locking myclabs/deep-copy (1.12.1)
  - Locking nesbot/carbon (3.8.4)
  - Locking nette/schema (v1.3.2)
  - Locking nette/utils (v4.0.5)
  - Locking nikic/php-parser (v5.3.1)
  - Locking nunomaduro/collision (v8.5.0)
  - Locking nunomaduro/termwind (v2.3.0)
  - Locking phar-io/manifest (2.0.4)
  - Locking phar-io/version (3.2.1)
  - Locking phpoption/phpoption (1.9.3)
  - Locking phpunit/php-code-coverage (11.0.8)
  - Locking phpunit/php-file-iterator (5.1.0)
  - Locking phpunit/php-invoker (5.0.1)
  - Locking phpunit/php-text-template (4.0.1)
  - Locking phpunit/php-timer (7.0.1)
  - Locking phpunit/phpunit (11.5.2)
  - Locking psr/clock (1.0.0)
  - Locking psr/container (2.0.2)
  - Locking psr/event-dispatcher (1.0.0)
  - Locking psr/http-client (1.0.3)
  - Locking psr/http-factory (1.1.0)
  - Locking psr/http-message (2.0)
  - Locking psr/log (3.0.2)
  - Locking psr/simple-cache (3.0.0)
  - Locking psy/psysh (v0.12.7)
  - Locking ralouphie/getallheaders (3.0.3)
  - Locking ramsey/collection (2.0.0)
  - Locking ramsey/uuid (4.7.6)
  - Locking sebastian/cli-parser (3.0.2)
  - Locking sebastian/code-unit (3.0.2)
  - Locking sebastian/code-unit-reverse-lookup (4.0.1)
  - Locking sebastian/comparator (6.2.1)
  - Locking sebastian/complexity (4.0.1)
  - Locking sebastian/diff (6.0.2)
  - Locking sebastian/environment (7.2.0)
  - Locking sebastian/exporter (6.3.0)
  - Locking sebastian/global-state (7.0.2)
  - Locking sebastian/lines-of-code (3.0.1)
  - Locking sebastian/object-enumerator (6.0.1)
  - Locking sebastian/object-reflector (4.0.1)
  - Locking sebastian/recursion-context (6.0.2)
  - Locking sebastian/type (5.1.0)
  - Locking sebastian/version (5.0.2)
  - Locking staabm/side-effects-detector (1.0.5)
  - Locking symfony/clock (v7.2.0)
  - Locking symfony/console (v7.2.1)
  - Locking symfony/css-selector (v7.2.0)
  - Locking symfony/deprecation-contracts (v3.5.1)
  - Locking symfony/error-handler (v7.2.1)
  - Locking symfony/event-dispatcher (v7.2.0)
  - Locking symfony/event-dispatcher-contracts (v3.5.1)
  - Locking symfony/finder (v7.2.0)
  - Locking symfony/http-foundation (v7.2.0)
  - Locking symfony/http-kernel (v7.2.1)
  - Locking symfony/mailer (v7.2.0)
  - Locking symfony/mime (v7.2.1)
  - Locking symfony/polyfill-ctype (v1.31.0)
  - Locking symfony/polyfill-intl-grapheme (v1.31.0)
  - Locking symfony/polyfill-intl-idn (v1.31.0)
  - Locking symfony/polyfill-intl-normalizer (v1.31.0)
  - Locking symfony/polyfill-mbstring (v1.31.0)
  - Locking symfony/polyfill-php80 (v1.31.0)
  - Locking symfony/polyfill-php83 (v1.31.0)
  - Locking symfony/polyfill-uuid (v1.31.0)
  - Locking symfony/process (v7.2.0)
  - Locking symfony/routing (v7.2.0)
  - Locking symfony/service-contracts (v3.5.1)
  - Locking symfony/string (v7.2.0)
  - Locking symfony/translation (v7.2.0)
  - Locking symfony/translation-contracts (v3.5.1)
  - Locking symfony/uid (v7.2.0)
  - Locking symfony/var-dumper (v7.2.0)
  - Locking symfony/yaml (v7.2.0)
  - Locking theseer/tokenizer (1.2.3)
  - Locking tijsverkoyen/css-to-inline-styles (v2.3.0)
  - Locking vlucas/phpdotenv (v5.6.1)
  - Locking voku/portable-ascii (2.0.3)
  - Locking webmozart/assert (1.11.0)
Writing lock file
Installing dependencies from lock file (including require-dev)
Package operations: 110 installs, 0 updates, 0 removals
      - Downloading nesbot/carbon (3.8.4)
      - Downloading league/commonmark (2.6.1)
  - Installing doctrine/inflector (2.0.10): Extracting archive
  - Installing doctrine/lexer (3.0.1): Extracting archive
  - Installing symfony/polyfill-ctype (v1.31.0): Extracting archive
  - Installing webmozart/assert (1.11.0): Extracting archive
  - Installing dragonmantank/cron-expression (v3.4.0): Extracting archive
  - Installing symfony/deprecation-contracts (v3.5.1): Extracting archive
  - Installing psr/container (2.0.2): Extracting archive
  - Installing fakerphp/faker (v1.24.1): Extracting archive
  - Installing symfony/polyfill-php83 (v1.31.0): Extracting archive
      - Installing symfony/polyfill-mbstring (v1.31.0): Extracting archive
  - Installing symfony/http-foundation (v7.2.0): Extracting archive
  - Installing fruitcake/php-cors (v1.3.0): Extracting archive
  - Installing psr/http-message (2.0): Extracting archive
  - Installing psr/http-client (1.0.3): Extracting archive
  - Installing ralouphie/getallheaders (3.0.3): Extracting archive
  - Installing psr/http-factory (1.1.0): Extracting archive
  - Installing guzzlehttp/psr7 (2.7.0): Extracting archive
  - Installing guzzlehttp/promises (2.0.4): Extracting archive
  - Installing guzzlehttp/guzzle (7.9.2): Extracting archive
  - Installing symfony/polyfill-php80 (v1.31.0): Extracting archive
  - Installing guzzlehttp/uri-template (v1.0.3): Extracting archive
  - Installing symfony/polyfill-intl-normalizer (v1.31.0): Extracting archive
  - Installing symfony/polyfill-intl-grapheme (v1.31.0): Extracting archive
  - Installing symfony/string (v7.2.0): Extracting archive
  - Installing symfony/service-contracts (v3.5.1): Extracting archive
  - Installing symfony/console (v7.2.1): Extracting archive
  - Installing nunomaduro/termwind (v2.3.0): Extracting archive
  - Installing voku/portable-ascii (2.0.3): Extracting archive
  - Installing phpoption/phpoption (1.9.3): Extracting archive
  - Installing graham-campbell/result-type (v1.1.3): Extracting archive
  - Installing vlucas/phpdotenv (v5.6.1): Extracting archive
  - Installing symfony/css-selector (v7.2.0): Extracting archive
  - Installing tijsverkoyen/css-to-inline-styles (v2.3.0): Extracting archive
  - Installing symfony/var-dumper (v7.2.0): Extracting archive
  - Installing symfony/polyfill-uuid (v1.31.0): Extracting archive
  - Installing symfony/uid (v7.2.0): Extracting archive
  - Installing symfony/routing (v7.2.0): Extracting archive
  - Installing symfony/process (v7.2.0): Extracting archive
  - Installing symfony/polyfill-intl-idn (v1.31.0): Extracting archive
  - Installing symfony/mime (v7.2.1): Extracting archive
  - Installing psr/event-dispatcher (1.0.0): Extracting archive
  - Installing symfony/event-dispatcher-contracts (v3.5.1): Extracting archive
  - Installing symfony/event-dispatcher (v7.2.0): Extracting archive
  - Installing psr/log (3.0.2): Extracting archive
  - Installing egulias/email-validator (4.0.3): Extracting archive
  - Installing symfony/mailer (v7.2.0): Extracting archive
  - Installing symfony/error-handler (v7.2.1): Extracting archive
  - Installing symfony/http-kernel (v7.2.1): Extracting archive
  - Installing symfony/finder (v7.2.0): Extracting archive
  - Installing ramsey/collection (2.0.0): Extracting archive
  - Installing brick/math (0.12.1): Extracting archive
  - Installing ramsey/uuid (4.7.6): Extracting archive
  - Installing psr/simple-cache (3.0.0): Extracting archive
  - Installing symfony/translation-contracts (v3.5.1): Extracting archive
  - Installing symfony/translation (v7.2.0): Extracting archive
  - Installing psr/clock (1.0.0): Extracting archive
  - Installing symfony/clock (v7.2.0): Extracting archive
  - Installing carbonphp/carbon-doctrine-types (3.2.0): Extracting archive
  - Installing nesbot/carbon (3.8.4): Extracting archive
  - Installing monolog/monolog (3.8.1): Extracting archive
  - Installing league/uri-interfaces (7.5.0): Extracting archive
  - Installing league/uri (7.5.1): Extracting archive
  - Installing league/mime-type-detection (1.16.0): Extracting archive
  - Installing league/flysystem-local (3.29.0): Extracting archive
  - Installing league/flysystem (3.29.1): Extracting archive
  - Installing nette/utils (v4.0.5): Extracting archive
  - Installing nette/schema (v1.3.2): Extracting archive
  - Installing dflydev/dot-access-data (v3.0.3): Extracting archive
  - Installing league/config (v1.2.0): Extracting archive
  - Installing league/commonmark (2.6.1): Extracting archive
  - Installing laravel/serializable-closure (v2.0.1): Extracting archive
  - Installing laravel/prompts (v0.3.2): Extracting archive
  - Installing laravel/framework (v11.36.1): Extracting archive
  - Installing laravel/pail (v1.2.1): Extracting archive
  - Installing laravel/pint (v1.18.3): Extracting archive
  - Installing symfony/yaml (v7.2.0): Extracting archive
  - Installing laravel/sail (v1.39.1): Extracting archive
  - Installing nikic/php-parser (v5.3.1): Extracting archive
  - Installing psy/psysh (v0.12.7): Extracting archive
  - Installing laravel/tinker (v2.10.0): Extracting archive
  - Installing hamcrest/hamcrest-php (v2.0.1): Extracting archive
  - Installing mockery/mockery (1.6.12): Extracting archive
  - Installing filp/whoops (2.16.0): Extracting archive
  - Installing nunomaduro/collision (v8.5.0): Extracting archive
  - Installing staabm/side-effects-detector (1.0.5): Extracting archive
  - Installing sebastian/version (5.0.2): Extracting archive
  - Installing sebastian/type (5.1.0): Extracting archive
  - Installing sebastian/recursion-context (6.0.2): Extracting archive
  - Installing sebastian/object-reflector (4.0.1): Extracting archive
  - Installing sebastian/object-enumerator (6.0.1): Extracting archive
  - Installing sebastian/global-state (7.0.2): Extracting archive
  - Installing sebastian/exporter (6.3.0): Extracting archive
  - Installing sebastian/environment (7.2.0): Extracting archive
  - Installing sebastian/diff (6.0.2): Extracting archive
  - Installing sebastian/comparator (6.2.1): Extracting archive
  - Installing sebastian/code-unit (3.0.2): Extracting archive
  - Installing sebastian/cli-parser (3.0.2): Extracting archive
  - Installing phpunit/php-timer (7.0.1): Extracting archive
  - Installing phpunit/php-text-template (4.0.1): Extracting archive
  - Installing phpunit/php-invoker (5.0.1): Extracting archive
  - Installing phpunit/php-file-iterator (5.1.0): Extracting archive
  - Installing theseer/tokenizer (1.2.3): Extracting archive
  - Installing sebastian/lines-of-code (3.0.1): Extracting archive
  - Installing sebastian/complexity (4.0.1): Extracting archive
  - Installing sebastian/code-unit-reverse-lookup (4.0.1): Extracting archive
  - Installing phpunit/php-code-coverage (11.0.8): Extracting archive
  - Installing phar-io/version (3.2.1): Extracting archive
  - Installing phar-io/manifest (2.0.4): Extracting archive
  - Installing myclabs/deep-copy (1.12.1): Extracting archive
  - Installing phpunit/phpunit (11.5.2): Extracting archive
    63 package suggestions were added by new dependencies, use `composer suggest` to see details.
Generating optimized autoload files
    81 packages you are using are looking for funding.
Use the `composer fund` command to find out more!
    No security vulnerability advisories found.
    > @php -r "file_exists('.env') || copy('.env.example', '.env');"
    ERROR: Invalid syntax. Value expected for '-r'.
Type "WHERE /?" for usage.

   INFO  Application key set successfully.


 Which database will your application use? [MySQL]:
  [mysql  ] MySQL
  [mariadb] MariaDB
  [sqlite ] SQLite (Missing PDO extension)
  [pgsql  ] PostgreSQL (Missing PDO extension)
  [sqlsrv ] SQL Server (Missing PDO extension)
 > mysql


 Default database updated. Would you like to run the default database migrations? (yes/no) [yes]:
 > n

    ./composer.json has been updated
    Running composer update laravel/jetstream
Loading composer repositories with package information
    Updating dependencies
Lock file operations: 8 installs, 0 updates, 0 removals
  - Locking bacon/bacon-qr-code (v3.0.1)
  - Locking dasprid/enum (1.0.6)
  - Locking laravel/fortify (v1.25.1)
  - Locking laravel/jetstream (v5.3.4)
  - Locking mobiledetect/mobiledetectlib (4.8.09)
  - Locking paragonie/constant_time_encoding (v3.0.0)
  - Locking pragmarx/google2fa (v8.0.3)
  - Locking psr/cache (3.0.0)
Writing lock file
Installing dependencies from lock file (including require-dev)
    Package operations: 8 installs, 0 updates, 0 removals
INFO: Could not find files for the given pattern(s).
  - Installing dasprid/enum (1.0.6): Extracting archive
  - Installing bacon/bacon-qr-code (v3.0.1): Extracting archive
  - Installing psr/cache (3.0.0): Extracting archive
  - Installing mobiledetect/mobiledetectlib (4.8.09): Extracting archive
  - Installing paragonie/constant_time_encoding (v3.0.0): Extracting archive
  - Installing pragmarx/google2fa (v8.0.3): Extracting archive
  - Installing laravel/fortify (v1.25.1): Extracting archive
  - Installing laravel/jetstream (v5.3.4): Extracting archive
    1 package suggestions were added by new dependencies, use `composer suggest` to see details.
Generating optimized autoload files
    > Illuminate\Foundation\ComposerScripts::postAutoloadDump
> @php artisan package:discover --ansi

   INFO  Discovering packages.

  laravel/fortify ............................................................................................... DONE
  laravel/jetstream ............................................................................................. DONE
  laravel/pail .................................................................................................. DONE
  laravel/sail .................................................................................................. DONE
  laravel/tinker ................................................................................................ DONE
  nesbot/carbon ................................................................................................. DONE
  nunomaduro/collision .......................................................................................... DONE
  nunomaduro/termwind ........................................................................................... DONE

    82 packages you are using are looking for funding.
Use the `composer fund` command to find out more!
    > @php artisan vendor:publish --tag=laravel-assets --ansi --force

   INFO  No publishable resources for tag [laravel-assets].

    No security vulnerability advisories found.
Using version ^5.3 for laravel/jetstream
    ./composer.json has been updated
    Running composer update livewire/livewire
Loading composer repositories with package information
    Updating dependencies
Lock file operations: 1 install, 0 updates, 0 removals
  - Locking livewire/livewire (v3.5.18)
Writing lock file
Installing dependencies from lock file (including require-dev)
    Package operations: 1 install, 0 updates, 0 removals
INFO: Could not find files for the given pattern(s).
      - Installing livewire/livewire (v3.5.18): Extracting archive
    Generating optimized autoload files
    > Illuminate\Foundation\ComposerScripts::postAutoloadDump
> @php artisan package:discover --ansi

   INFO  Discovering packages.

  laravel/fortify ............................................................................................... DONE
  laravel/jetstream ............................................................................................. DONE
  laravel/pail .................................................................................................. DONE
  laravel/sail .................................................................................................. DONE
  laravel/tinker ................................................................................................ DONE
  livewire/livewire ............................................................................................. DONE
  nesbot/carbon ................................................................................................. DONE
  nunomaduro/collision .......................................................................................... DONE
  nunomaduro/termwind ........................................................................................... DONE

83 packages you are using are looking for funding.
Use the `composer fund` command to find out more!
    > @php artisan vendor:publish --tag=laravel-assets --ansi --force

   INFO  No publishable resources for tag [laravel-assets].

    No security vulnerability advisories found.
    ./composer.json has been updated
    Running composer update laravel/sanctum
Loading composer repositories with package information
    Updating dependencies
Lock file operations: 1 install, 0 updates, 0 removals
  - Locking laravel/sanctum (v4.0.7)
Writing lock file
Installing dependencies from lock file (including require-dev)
    Package operations: 1 install, 0 updates, 0 removals
INFO: Could not find files for the given pattern(s).
  - Installing laravel/sanctum (v4.0.7): Extracting archive
    Generating optimized autoload files
    > Illuminate\Foundation\ComposerScripts::postAutoloadDump
    > @php artisan package:discover --ansi

   INFO  Discovering packages.

  laravel/fortify ............................................................................................... DONE
  laravel/jetstream ............................................................................................. DONE
  laravel/pail .................................................................................................. DONE
  laravel/sail .................................................................................................. DONE
  laravel/sanctum ............................................................................................... DONE
  laravel/tinker ................................................................................................ DONE
  livewire/livewire ............................................................................................. DONE
  nesbot/carbon ................................................................................................. DONE
  nunomaduro/collision .......................................................................................... DONE
  nunomaduro/termwind ........................................................................................... DONE

83 packages you are using are looking for funding.
Use the `composer fund` command to find out more!
    > @php artisan vendor:publish --tag=laravel-assets --ansi --force

   INFO  No publishable resources for tag [laravel-assets].

    No security vulnerability advisories found.
       INFO  Published API routes file.

   INFO  API scaffolding installed. Please add the [Laravel\Sanctum\HasApiTokens] trait to your User model.


added 171 packages, and audited 172 packages in 16s

40 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

> build
> vite build

        vite v6.0.6 building for production...
        transforming...
        ✓ 53 modules transformed.
rendering chunks...
computing gzip size...
public/build/manifest.json             0.27 kB │ gzip:  0.15 kB
public/build/assets/app-C5xzoV4S.css  55.07 kB │ gzip:  9.18 kB
public/build/assets/app-Xaw6OIO1.js   34.85 kB │ gzip: 14.03 kB
✓ built in 1.65s

  New database migrations were added. Would you like to re-run your migrations? (yes/no) [yes]
❯
   Illuminate\Database\QueryException

  SQLSTATE[HY000] [1045] Access denied for user 'root'@'localhost' (using password: NO) (Connection: mysql, SQL: select exists (select 1 from information_schema.tables where table_schema = 'emergencymedicalservice' and table_name = 'migrations' and table_type in ('BASE TABLE', 'SYSTEM VERSIONED')) as `exists`)

  at vendor\laravel\framework\src\Illuminate\Database\Connection.php:825
    821▕                     $this->getName(), $query, $this->prepareBindings($bindings), $e
    822▕                 );
    823▕             }
    824▕
  ➜ 825▕             throw new QueryException(
    826▕                 $this->getName(), $query, $this->prepareBindings($bindings), $e
    827▕             );
    828▕         }
    829▕     }

  1   vendor\laravel\framework\src\Illuminate\Database\Connectors\Connector.php:66
      PDOException::("SQLSTATE[HY000] [1045] Access denied for user 'root'@'localhost' (using password: NO)")

  2   vendor\laravel\framework\src\Illuminate\Database\Connectors\Connector.php:66
      PDO::__construct()

   INFO  Livewire scaffolding installed successfully.

   INFO  Application ready in [EmergencyMedicalService]. You can start your local development using:

➜ cd EmergencyMedicalService
➜ php artisan serve

  New to Laravel? Check out our bootcamp and documentation. Build something amazing!
```


```bash
git init

git remote add origin [레포지토리 경로]

git remote -v 

git add .

git commit -m "first commit"

git branch front-end

git checkout front-end

git add front-end/front.html

git commit -m "add directory"

git push -u origin front-end

git checkout main

git pull origin front-end --allow-unrelated-histories

git add .
```

popup
-

```bash
ㄷ
```

```shell
mkdir resources/views/admin

touch resources/views/admin/popupIndex.blade.php
touch resources/views/admin/popupCreate.blade.php
touch resources/views/admin/popupEdit.blade.php
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Popup;
use App\Services\ValidationService;
class PopupController extends Controller
{
    public function __construct(Popup $popup, ValidationService $validationService) {
        parent::__construct($popup, $validationService);
    }

    protected function getValidationContext(): string {
        return 'popup';
    }
}
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Popup extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 제목
        'image', // 이미지
        'image_name', // 이미지 파일명
        'link', // 링크
        'start_date', // 팝업 노출 시작일
        'end_date', // 팝업 노출 종료일
    ];

    protected $dates = ['deleted_at']; // softDelete

    public function getImageAttribute() // 이미지 경로
    {
        if (empty($this->attributes['image'])) {
            return null; // 이미지가 없으면 null 반환
        }

        return asset('storage/' . $this->attributes['image']);
    }
}
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('popups', function (Blueprint $table) {
            $table->id();
            $table->string('title'); // 제목
            $table->string('image'); // 이미지
            $table->string('image_name'); // 이미지 파일명
            $table->string('link')->nullable(); // 링크
            $table->date('start_date'); // 팝업 노출 시작일
            $table->date('end_date'); // 팝업 노출 종료일
            $table->timestamps();
            $table->softDeletes(); // 삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('popups');
    }
};
```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')

<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>

        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif

            <div class="title-wrap col-group">
                <h2 class="main-title">
                    팝업 등록
                </h2>
            </div>

            <form action="{{route('admin.popupStore')}}" method="post" enctype="multipart/form-data">
                @csrf
                <div class="form-wrap row-group">
                    <div class="form-item row-group">
                        <p class="item-default">
                            제목
                            <span class="red">*</span>
                        </p>
                        <input type="text" name="title" class="form-input" id="title" value="{{ old('title') }}"
                               placeholder="제목을 입력하세요" required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            팝업 노출 시작일
                            <span class="red">*</span>
                        </p>
                        <input type="date" name="start_date" class="form-input" id="start_date"
                               value="{{ old('start_date') }}" required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            팝업 노출 종료일
                            <span class="red">*</span>
                        </p>
                        <input type="date" name="end_date" class="form-input" id="end_date"
                               value="{{ old('end_date') }}" required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            이미지
                            <span class="red">*</span>
                        </p>
                        <input type="hidden" name="remove_image" id="remove_image" value="1">
                        <div class="file-upload-wrap">
                            <input type='file' id='image_upload' accept="image/*" name="image" style="display: none;">
                            <label for="image_upload" class="file-upload-btn">
                                파일 업로드
                            </label>
                            <div class="file-preview" id="image-preview" style="display: none">
                                <p class="file-name" id="image-filename"></p>
                                <button type="button" class="file-del-btn" id="remove-image-btn">
                                    <i class="xi-close"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            링크(선택)
                        </p>
                        <input type="text" name="link" class="form-input" id="link" value="{{ old('link') }}"
                               placeholder="링크를 입력하세요(https:// 포함), 선택사항">
                    </div>
                </div>
                <div class="form-btn-wrap col-group">
                    <a href="{{ route("admin.popupIndex") }}" class="form-prev-btn">
                        목록으로
                    </a>
                    <button class="form-prev-btn" type="submit">
                        등록
                    </button>
                    <button class="form-submit-btn" name="continue" type="submit" value="1">
                        등록 후 계속
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    document.getElementById('image_upload').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            document.getElementById('image-preview').style.display = 'block';
            document.getElementById('image-filename').textContent = file.name;
            document.getElementById('remove_image').value = 0;
        }
    });

    document.getElementById('remove-image-btn').addEventListener('click', function () {
        document.getElementById('image_upload').value = '';
        document.getElementById('image-preview').style.display = 'none';
        document.getElementById('remove_image').value = 1;
    });

</script>
</body>
</html>
```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')
<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>
        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <div class="title-wrap col-group">
                <h2 class="main-title">
                    팝업 수정
                </h2>
            </div>
            <form action="{{ route("admin.popupUpdate", $item) }}" method="post" enctype="multipart/form-data">
                @csrf
                @method('patch')
                <div class="form-wrap row-group">
                    <div class="form-item row-group">
                        <p class="item-default">
                            제목
                            <span class="red">*</span>
                        </p>
                        <input type="text" name="title" class="form-input" value="{{ old('title', $item->title) }}"
                               required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            팝업 노출 시작일
                            <span class="red">*</span>
                        </p>
                        <input type="date" name="start_date" class="form-input" id="start_date"
                               value="{{ old('start_date', $item->start_date) }}" required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            팝업 노출 종료일
                            <span class="red">*</span>
                        </p>
                        <input type="date" name="end_date" class="form-input" id="end_date"
                               value="{{ old('end_date', $item->end_date) }}" required>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            이미지
                            <span class="red">*</span>
                        </p>
                        <div class="file-upload-wrap">
                            <input type='file' id='image_upload' accept="image/*" name="image" style="display: none;">
                            <label for="image_upload" class="file-upload-btn">
                                파일 업로드
                            </label>
                            <div class="file-preview" id="image-preview"
                                 @if(!$item->image || old('remove_image') == '1') style="display: none" @endif>
                                <p class="file-name" id="image-filename">
                                    @if($item->image && old('remove_image') != '1')
                                        {{ $item->image_name }}
                                    @endif
                                </p>
                                <button type="button" class="file-del-btn" id="remove-image-btn">
                                    <i class="xi-close"></i>
                                </button>
                            </div>
                            <input type="hidden" name="remove_image" id="remove_image"
                                   value="{{ old('remove_image', 0) }}">
                        </div>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            링크(선택)
                        </p>
                        <input type="text" name="link" class="form-input" value="{{ old('link', $item->link) }}"
                               placeholder='링크를 입력하세요(https:// 포함), 선택사항'>
                    </div>
                </div>
                <div class="form-btn-wrap col-group">
                    <a href="{{route("admin.popupIndex")}}" class="form-prev-btn">
                        목록으로
                    </a>
                    <button class="form-submit-btn" type="submit">
                        수정
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const imageInput = document.getElementById('image_upload');
        const imagePreview = document.getElementById('image-preview');
        const imageFilename = document.getElementById('image-filename');
        const removeImageBtn = document.getElementById('remove-image-btn');
        const removeImageInput = document.getElementById('remove_image');

        imageInput.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                imagePreview.style.display = 'block';
                imageFilename.textContent = file.name;
                removeImageInput.value = 0;
            }
        });

        removeImageBtn.addEventListener('click', function() {
            imagePreview.style.display = 'none';
            imageInput.value = '';
            removeImageInput.value = 1;
        });
    });
</script>
</body>
</html>

```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')
<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>
        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <div class="admin_photo_gallery">
                <div class="title-wrap col-group">
                    <div class="main-title-wrap col-group">
                        <h2 class="main-title">
                            메인 팝업
                        </h2>
                        <div class="top-btn-wrap">
                            <a href="{{ route('admin.popupCreate') }}" class="top-btn">
                                등록
                            </a>
                        </div>
                    </div>
                </div>
                <div class="board-wrap col-group">
                    @if($items->isEmpty())
                        <div class="null-txt">
                            등록된 팝업이 없습니다.
                        </div>
                    @else
                        @foreach($items as $key => $item)
                            <div class="board-item">
                                <div class="img-box">
                                    <img src="{{ $item->image }}" alt="">
                                </div>
                                <div class="txt-box row-group">
                                    <p class="title"> {{ $item->title }} </p>
                                    <p class="date col-group">
                                        @if($item->link)
                                            <a href="{{ $item->link }}" class="btn" target="_blank"> 링크 </a>
                                        @else
                                            <a class="btn"> 링크X </a>
                                        @endif
                                    </p>
                                    <div class="btn-wrap col-group">
                                        <a href="{{ route("admin.popupEdit", $item->id) }}" class="btn">
                                            수정
                                        </a>
                                        <form action="{{ route("admin.popupDestroy", $item->id) }}" method="post"
                                              onsubmit="return confirmDelete();">
                                            @csrf
                                            @method('delete')
                                            <button type="submit" class="btn del-btn">
                                                삭제
                                            </button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        @endforeach
                    @endif
                </div>
                @include('admin.components.pagination', ['paginator' => $items])
            </div>
        </div>
    </div>
</div>

<script>
    function confirmDelete() {
        return confirm("정말로 삭제하시겠습니까?");
    }
</script>
</body>
</html>

```

banner
-

```bash
php artisan make:migration create_banners_table --create=banners

php artisan make:controller BannerController

php artisan make:model Banner
```

```bash
touch resources/views/admin/bannerIndex.blade.php
touch resources/views/admin/bannerCreate.blade.php
touch resources/views/admin/bannerEdit.blade.php
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('banners', function (Blueprint $table) {
            $table->id();
            $table->text('title'); // 제목
            $table->text('content'); // 내용
            $table->string('image'); // PC 이미지
            $table->string('image_name'); // PC 이미지 파일명
            $table->string('mobile_image'); // 모바일 이미지
            $table->string('mobile_image_name'); // 모바일 이미지 파일명
            $table->timestamps();
            $table->softDeletes(); //삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('banners');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Banner extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 제목
        'content', // 내용
        'image', // 이미지
        'image_name', // 이미지 파일명
        'mobile_image', // 모바일 이미지
        'mobile_image_name', // 모바일 이미지 파일명
    ];

    protected $dates = ['deleted_at']; // softDelete

    public function getImageAttribute() // 이미지 경로
    {
        if (empty($this->attributes['image'])) {
            return null; // 이미지가 없으면 null 반환
        }

        return asset('storage/' . $this->attributes['image']);
    }

    public function getMobileImageAttribute() // 모바일 이미지 경로
    {
        if (empty($this->attributes['mobile_image'])) {
            return null; // 이미지가 없으면 null 반환
        }

        return asset('storage/' . $this->attributes['mobile_image']);
    }
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Banner;
use App\Services\ValidationService;

class BannerController extends Controller
{
    public function __construct(Banner $banner, ValidationService $validationService) {
        parent::__construct($banner, $validationService);
    }

    protected function getValidationContext(): string {
        return 'banner';
    }
}
```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')
<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>
        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <div class="title-wrap col-group">
                <h2 class="main-title">
                    배너 등록
                </h2>
            </div>
            <form action="{{ route('admin.bannerStore') }}" method="post" enctype="multipart/form-data">
                @csrf
                <div class="form-wrap row-group">
                    <div class="form-item row-group">
                        <p class="item-default">
                            제목
                            <span class="red">*</span>
                        </p>
                        <textarea rows="2" name="title" id="title"  placeholder="제목을 입력하세요" required>{{ old('title') }}</textarea>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            내용
                            <span class="red">*</span>
                        </p>
                        <textarea rows="2" name="content" id="content" placeholder="내용을 입력하세요" required>{{ old('content') }}</textarea>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            이미지 or 동영상
                            <span class="red">*</span>
                        </p>
                        <input type="hidden" name="remove_image" id="remove_image" value="1">
                        <div class="file-upload-wrap">
                            <input type='file' id='image_upload' accept="image/*,video/*" name="image" style="display: none;">
                            <label for="image_upload" class="file-upload-btn">
                                파일 업로드
                            </label>
                            <div class="file-preview" id="image-preview" style="display: none">
                                <p class="file-name" id="image-filename"></p>
                                <button type="button" class="file-del-btn" id="remove-image-btn">
                                    <i class="xi-close"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-btn-wrap col-group">
                    <a href="{{ route("admin.bannerIndex") }}" class="form-prev-btn">
                        목록으로
                    </a>
                    <button class="form-prev-btn" type="submit">
                        등록
                    </button>
                    <button class="form-submit-btn" name="continue" type="submit" value="1">
                        등록 후 계속
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    document.getElementById('image_upload').addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            document.getElementById('image-preview').style.display = 'block';
            document.getElementById('image-filename').textContent = file.name;
            document.getElementById('remove_image').value = 0;
        }
    });

    document.getElementById('remove-image-btn').addEventListener('click', function () {
        document.getElementById('image_upload').value = '';
        document.getElementById('image-preview').style.display = 'none';
        document.getElementById('remove_image').value = 1;
    });
</script>
</body>
</html>
```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')
<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>
        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <div class="title-wrap col-group">
                <h2 class="main-title">
                    메인 배너 수정
                </h2>
            </div>
            <form action="{{ route("admin.bannerUpdate", $item) }}" method="post" enctype="multipart/form-data">
                @csrf
                @method('patch')
                <div class="form-wrap row-group">
                    <div class="form-item row-group">
                        <p class="item-default">
                            제목
                            <span class="red">*</span>
                        </p>
                        <textarea rows="2" name="title" placeholder="제목을 작성해주세요." required>{{ old('title', $item->title) }}</textarea>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            내용
                            <span class="red">*</span>
                        </p>
                        <textarea rows="2" name="content" placeholder="내용을 작성해주세요." required>{{ old('content', $item->content) }}</textarea>
                    </div>
                    <div class="form-item row-group">
                        <p class="item-default">
                            이미지 or 동영상
                            <span class="red">*</span>
                        </p>
                        <div class="file-upload-wrap">
                            <input type='file' id='image_upload' accept="image/*,video/*" name="image" style="display: none;">
                            <label for="image_upload" class="file-upload-btn">
                                파일 업로드
                            </label>
                            <div class="file-preview" id="image-preview"
                                 @if(!$item->image || old('remove_image') == '1') style="display: none" @endif>
                                <p class="file-name" id="image-filename">
                                    @if($item->image && old('remove_image') != '1')
                                        {{ $item->image_name }}
                                    @endif
                                </p>
                                <button type="button" class="file-del-btn" id="remove-image-btn">
                                    <i class="xi-close"></i>
                                </button>
                            </div>
                            <input type="hidden" name="remove_image" id="remove_image" value="{{ old('remove_image', 0) }}">
                        </div>
                    </div>
                </div>
                <div class="form-btn-wrap col-group">
                    <a href="{{ route("admin.bannerIndex") }}" class="form-prev-btn">
                        목록으로
                    </a>
                    <button class="form-submit-btn" type="submit">
                        수정
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const imageInput = document.getElementById('image_upload');
        const imagePreview = document.getElementById('image-preview');
        const imageFilename = document.getElementById('image-filename');
        const removeImageBtn = document.getElementById('remove-image-btn');
        const removeImageInput = document.getElementById('remove_image');

        imageInput.addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (file) {
                imagePreview.style.display = 'block';
                imageFilename.textContent = file.name;
                removeImageInput.value = 0;
            }
        });

        removeImageBtn.addEventListener('click', function() {
            imagePreview.style.display = 'none';
            imageInput.value = '';
            removeImageInput.value = 1;
        });
    });
</script>
</body>
</html>

```

```bladehtml
<!DOCTYPE html>
<html lang="ko">
@include('admin.components.head')
<body>
<div id="wrap">
    <div class="admin-container">
        <header id="header">
            @include('admin.components.snb')
        </header>
        <div class="admin-wrap">
            @if ($errors->any())
                <div class="alert alert-danger">
                    <ul>
                        @foreach ($errors->all() as $error)
                            <li>{{ $error }}</li>
                        @endforeach
                    </ul>
                </div>
            @endif
            <div class="admin_photo_gallery">
                <div class="title-wrap col-group">
                    <div class="main-title-wrap col-group">
                        <h2 class="main-title">
                            메인 배너
                        </h2>
                        <div class="top-btn-wrap">
                            <a href="{{ route("admin.bannerCreate") }}" class="top-btn">
                                등록
                            </a>
                        </div>
                    </div>
                </div>
                <div class="item_list item_list_2">
                    @if($items->isEmpty())
                        <div class="null-txt">
                            등록한 게시물이 없습니다.
                        </div>
                    @else
                        @foreach($items as $key => $item)
                            <ul class="item_list_ul">
                                <li>
                                    <div class="img_wrap">
                                        @if($item->is_video)
                                            <video controls class="img-fluid">
                                                <source src="{{ $item->image }}" type="video/{{ pathinfo($item->image, PATHINFO_EXTENSION) }}">
                                                Your browser does not support the video tag.
                                            </video>
                                        @else
                                            <img src="{{ $item->image }}" alt="이미지" class="img-fluid">
                                        @endif
                                    </div>
                                    <div class="item_txt_wrap">
                                        <p class="title_p">{{ $item->title }}</p>
                                        <p class="title_p">{{ $item->content }}</p>
                                        <div class="btn-wrap col-group">
                                            <a href="{{route("admin.bannerEdit", $item->id)}}" class="btn">
                                                수정
                                            </a>
                                            <form action="{{ route("admin.bannerDestroy", $item->id) }}" method="post"
                                                  onsubmit="return confirmDelete();">
                                                @csrf
                                                @method('delete')
                                                <button type="submit" class="btn del-btn">
                                                    삭제
                                                </button>
                                            </form>
                                        </div>
                                        <div class="order_btn_wrap">
                                            {{--                                        <form action="{{route("admin.bannerMove", ['banner' => $item->id, 'direction' => 'up'])}}" method="post">--}}
                                            {{--                                            @csrf--}}
                                            {{--                                            <button type="submit"><i class="xi-arrow-up"></i></button>--}}
                                            {{--                                        </form>--}}
                                            {{--                                        <form action="{{route("admin.bannerMove", ['banner' => $item->id, 'direction' => 'down'])}}" method="post">--}}
                                            {{--                                            @csrf--}}
                                            {{--                                            <button type="submit"><i class="xi-arrow-down"></i></button>--}}
                                            {{--                                        </form>--}}
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        @endforeach
                    @endif
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    function confirmDelete() {
        return confirm("정말로 삭제하시겠습니까?");
    }
</script>
</body>
</html>

```

inquiry
-

```bash
php artisan make:migration create_inquiries_table --create=inquiries

php artisan make:model Inquiry

php artisan make:controller InquiryController
```

```bash
touch resources/views/admin/inquiryIndex.blade.php
touch resources/views/admin/inquiryEdit.blade.php
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Inquiry extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'name', // 이름
        'contact', // 연락처
        'email', // 이메일
        'content', // 내용
        'agreement', // 개인정보처리방침 동의
    ];

    protected $dates = ['deleted_at'];
}
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('inquiries', function (Blueprint $table) {
            $table->id();
            $table->string('name'); // 이름
            $table->string('contact'); // 연락처
            $table->string('email'); // 이메일
            $table->text('content'); // 내용
            $table->string('agreement'); // 개인정보처리방침 동의
            $table->timestamps();
            $table->softDeletes(); // 삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('inquiries');
    }
};

```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Inquiry;
use App\Services\ValidationService;
class InquiryController extends Controller
{
    public function __construct(Inquiry $inquiry, ValidationService $validationService) {
        parent::__construct($inquiry, $validationService);
    }

    protected function getValidationContext(): string {
        return 'inquiry';
    }
}
```

visitor
-

```bash
php artisan make:migration create_visitors_table --create=visitors
php artisan make:migration create_visitor_logs_table --create=visitor_logs

php artisan make:model Visitor
php artisan make:model VisitorLog

php artisan make:controller VisitorController
php artisan make:controller VisitorLogController
```

```bash
touch resources/views/admin/visitorIndex.blade.php
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('visitors', function (Blueprint $table) {
            $table->id();
            $table->string('ip_address'); // IP
            $table->string('path')->nullable(); // 접속 경로
            $table->string('agent')->nullable(); // PC 혹은 모바일
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('visitors');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Visitor extends Model
{
    use HasFactory;

    protected $fillable = [
        'ip_address', // ip
        'path', // 접속 경로
        'agent', // PC 혹은 모바일
    ];

    public $searchableColumns = ['ip_address'];
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Visitor;
use App\Services\ValidationService;

class VisitorController extends Controller
{
    public function __construct(Visitor $visitor, ValidationService $validationService)
    {
        parent::__construct($visitor, $validationService);
    }
}
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('visitor_logs', function (Blueprint $table) {
            $table->id();
            $table->string('ip_address'); // IP
            $table->string('agent')->nullable(); // PC 혹은 모바일
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('visitor_logs');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class VisitorLog extends Model
{
    use HasFactory;

    protected $fillable = [
        'ip_address', // ip
        'agent', // PC 혹은 모바일
    ];
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\VisitorLog;
use App\Services\ValidationService;

class VisitorLogController extends Controller
{
    public function __construct(VisitorLog $visitorLog, ValidationService $validationService)
    {
        parent::__construct($visitorLog, $validationService);
    }
}
```

block
-

```bash
php artisan make:migration create_blocks_table --create=blocks

php artisan make:model Block

php artisan make:controller LoginController

php artisan make:middleware BlockMiddleware
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('blocks', function (Blueprint $table) {
            $table->id();
            $table->string('ip_address'); // IP
            $table->timestamps();
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('blocks');
    }
};
```

```php
<?php

namespace App\Models;

use Carbon\Carbon;
use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Block extends Model
{
    use HasFactory;

    protected $fillable = [
        'ip_address', // ip
    ];

    public function getCreatedAtAttribute($value)
    {
        return Carbon::parse($value)->format('Y.m.d');
    }
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Block;
use App\Services\ValidationService;
use Illuminate\Http\Request;

class BlockController extends Controller
{
    public function __construct(Block $block, ValidationService $validationService)
    {
        parent::__construct($block, $validationService);
    }

    public function index(Request $request) {
        $items = Block::all();
        return response()->json($items);
    }

    public function store(Request $request)
    {
        $request->validate([
            'ip_address' => 'required',
        ]);

        if (Block::where('ip_address', $request->ip_address)->exists()) {
            return redirect()->back()->with('error', '이미 차단된 IP입니다.');
        }

        Block::create([
            'ip_address' => $request->ip_address,
        ]);

        return redirect()->back()->with('success', 'IP가 차단되었습니다.');
    }

    public function delete($id)
    {
        try {
            $block = Block::findOrFail($id);
            $block->delete();

            return response()->json([
                'success' => true,
                'message' => 'IP 차단이 해제되었습니다.'
            ]);
        } catch (\Exception $e) {
            return response()->json([
                'success' => false,
                'message' => 'IP 차단 해제 중 오류가 발생했습니다.'
            ], 500);
        }
    }
}
```

```php
<?php

namespace App\Http\Middleware;

use Closure;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\DB;
use Symfony\Component\HttpFoundation\Response;

class BlockMiddleware
{
    /**
     * Handle an incoming request.
     *
     * @param Closure(Request): (Response) $next
     */
    public function handle(Request $request, Closure $next)
    {
        $clientIp = $request->ip();

        $blockedIps = DB::table('blocks')->pluck('ip_address')->toArray();

        if (in_array($clientIp, $blockedIps)) {
            abort(403, '접근이 차단되었습니다.'); // 403 Forbidden 응답
        }

        return $next($request);
    }
}
```

```bash
mkdir public/css
mkdir public/css/admin

mkdir public/js
```


question
-

```bash
php artisan make:migration create_questions_table --create=questions

php artisan make:controller QuestionController

php artisan make:model Question
```

```bash
touch resources/views/admin/questionIndex.blade.php
touch resources/views/admin/questionCreate.blade.php
touch resources/views/admin/questionEdit.blade.php
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('questions', function (Blueprint $table) {
            $table->id();
            $table->text('title'); // 제목
            $table->text('content'); // 내용
            $table->timestamps();
            $table->softDeletes(); //삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('questions');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Question extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 제목
        'content', // 내용
    ];

    protected $dates = ['deleted_at']; // softDelete
    
    public $searchableColumns = ['title'];
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Question;
use App\Services\ValidationService;

class QuestionController extends Controller
{
    public function __construct(Question $question, ValidationService $validationService) {
        parent::__construct($question, $validationService);
    }

    protected function getValidationContext(): string {
        return 'question';
    }
}
```

announcement
-

```bash
php artisan make:migration create_announcements_table --create=announcements

php artisan make:controller AnnouncementController

php artisan make:model Announcement
```

```bash
touch resources/views/admin/announcementIndex.blade.php
touch resources/views/admin/announcementCreate.blade.php
touch resources/views/admin/announcementEdit.blade.php
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Announcement;
use App\Services\ValidationService;

class AnnouncementController extends Controller
{
    public function __construct(Announcement $announcement, ValidationService $validationService) {
        parent::__construct($announcement, $validationService);
    }

    protected function getValidationContext(): string {
        return 'announcement';
    }
}
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('announcements', function (Blueprint $table) {
            $table->id();
            $table->string('title'); // 제목
            $table->string('is_featured'); // 상단공지(Y/N)
            $table->integer('views')->default(0); // 조회수
            $table->text('content'); // 내용
            $table->string('image')->nullable(); // 첨부파일
            $table->string('image_name')->nullable(); // 첨부파일명
            $table->timestamps();
            $table->softDeletes(); // 삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('announcements');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Announcement extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 제목
        'is_featured', // 상단공지(Y/N)
        'views', // 조회수
        'content', // 내용
        'image', // 첨부파일
        'image_name', // 첨부파일명
    ];

    protected $dates = ['deleted_at']; // softDelete

    public $searchableColumns = ['title'];
}
```

gallery
-

```bash
php artisan make:migration create_galleries_table --create=galleries

php artisan make:controller GalleryController

php artisan make:model Gallery
```

```bash
touch resources/views/admin/galleryIndex.blade.php
touch resources/views/admin/galleryCreate.blade.php
touch resources/views/admin/galleryEdit.blade.php
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Gallery;
use App\Services\ValidationService;

class GalleryController extends Controller
{
    public function __construct(Gallery $gallery, ValidationService $validationService) {
        parent::__construct($gallery, $validationService);
    }

    protected function getValidationContext(): string {
        return 'gallery';
    }
}
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('galleries', function (Blueprint $table) {
            $table->id();
            $table->string('title'); // 제목
            $table->string('is_featured'); // 상단공지(Y/N)
            $table->string('image')->nullable(); // 이미지
            $table->string('image_name')->nullable(); // 이미지 파일명
            $table->integer('views')->default(0); // 조회수
            $table->text('content'); // 내용
            $table->timestamps();
            $table->softDeletes(); // 삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('galleries');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Gallery extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 제목
        'is_featured', // 상단공지(Y/N)
        'image', // 이미지
        'image_name', // 이미지 파일명
        'views', // 조회수
        'content', // 내용
    ];

    protected $dates = ['deleted_at']; // softDelete

    public $searchableColumns = ['title'];
    
        public function getImageAttribute() // 이미지 경로
    {
        if (empty($this->attributes['image'])) {
            return null; // 이미지가 없으면 null 반환
        }

        return asset('storage/' . $this->attributes['image']);
    }
}
```


customer
-

```bash
php artisan make:migration create_customers_table --create=customers

php artisan make:controller CustomerController

php artisan make:model Customer

php artisan make:migration create_sections_table --create=sections

php artisan make:controller SectionController

php artisan make:model Section
```

```bash
touch resources/views/admin/customerIndex.blade.php
touch resources/views/admin/customerCreate.blade.php
touch resources/views/admin/customerEdit.blade.php
```

```php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    /**
     * Run the migrations.
     */
    public function up(): void
    {
        Schema::create('customers', function (Blueprint $table) {
            $table->id();
            $table->text('title'); // 제목
            $table->string('image'); // 이미지
            $table->string('image_name'); // 이미지 파일명
            $table->timestamps();
            $table->softDeletes(); //삭제
        });
    }

    /**
     * Reverse the migrations.
     */
    public function down(): void
    {
        Schema::dropIfExists('customers');
    }
};
```

```php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\SoftDeletes;

class Customer extends Model
{
    use HasFactory;
    use SoftDeletes;

    protected $fillable = [
        'title', // 이름
        'image', // 이미지
        'image_name', // 이미지 파일명
    ];

    protected $dates = ['deleted_at']; // softDelete
}
```

```php
<?php

namespace App\Http\Controllers;

use App\Models\Customer;
use App\Services\ValidationService;

class CustomerController extends Controller
{
    public function __construct(Customer $customer, ValidationService $validationService) {
        parent::__construct($customer, $validationService);
    }

    protected function getValidationContext(): string {
        return 'customer';
    }
}
```

service
-

```bash
mkdir app/Services
touch app/Services/ValidationService.php
```



```php
    protected function validateBanner(array $data): array // 배너 유효성 검사
    {
        $rules = [
            'title' => 'required',
            'content' => 'required',
            'image' => $data['remove_image'] == 1 ? 'required' : 'nullable',
            'mobile_image' => $data['mobile_remove_image'] == 1 ? 'required' : 'nullable',
        ];

        return $rules;
    }
```


```bash
App\Http\Controllers\Controller::handleRequest(): Argument #1 ($request) must be of type Illuminate\Http\Request, array given, called in C:\회사\EmergencyMedicalService\app\Http\Controllers\Controller.php on line 105
```


```bash
php artisan make:migration create_members_table --create=members

php artisan make:controller MemberController

php artisan make:model Member

php artisan make:migration create_experiences_table --create=experiences

php artisan make:controller ExperienceController

php artisan make:model Experience
```
